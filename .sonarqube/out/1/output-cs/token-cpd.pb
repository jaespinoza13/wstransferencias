Í
YC:\Users\amloarte\Documents\REPOSITORIO2\wstransferencias\wsTransferencias.Log\InfoLog.cs
	namespace 	
wsTransferencias
 
. 
Log 
{ 
public		 

struct		 
InfoLog		 
{

 
public 
DateTime 
	str_fecha !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
str_id_transaccion (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
string 
str_tipo 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
str_webservice $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
? 
	str_clase  
{! "
get# &
;& '
set( +
;+ ,
}- .
public## 
string## 

str_metodo##  
{##! "
get### &
;##& '
set##( +
;##+ ,
}##- .
public(( 
string(( 
?(( 
str_operacion(( $
{((% &
get((' *
;((* +
set((, /
;((/ 0
}((1 2
public,, 
object,, 
?,, 

str_objeto,, !
{,," #
get,,$ '
;,,' (
set,,) ,
;,,, -
},,. /
}-- 
}.. Ñ*
^C:\Users\amloarte\Documents\REPOSITORIO2\wstransferencias\wsTransferencias.Log\LogServicios.cs
	namespace 	
wsTransferencias
 
. 
Log 
{		 
public

 

static

 
class

 
LogServicios

 $
{ 
private 
static 
object 
objetoBloqueo +
=, -
new. 1
object2 8
(8 9
)9 :
;: ;
private 
static 
object 
objetoBloqueoJson /
=0 1
new2 5
object6 <
(< =
)= >
;> ?
public 
static 
void 
RegistrarTramas *
(* +
string+ 1
strTramaRequest2 A
,A B
stringC I
rutaArchivoJ U
)U V
{ 	
try 
{ 
lock 
( 
objetoBloqueo #
)# $
{ 
string 
fileName #
=$ %
rutaArchivo& 1
+2 3
DateTime4 <
.< =
Now= @
.@ A
ToStringA I
(I J
$strJ T
)T U
+V W
$strX ^
;^ _
using 
( 
var 
fs !
=" #
File$ (
.( )
Open) -
(- .
fileName. 6
,6 7
FileMode8 @
.@ A
AppendA G
,G H

FileAccessI S
.S T
WriteT Y
,Y Z
	FileShare[ d
.d e
	ReadWritee n
)n o
)o p
{ 
using 
( 
var "
writer# )
=* +
new, /
StreamWriter0 <
(< =
fs= ?
)? @
)@ A
{ 
writer "
." #
	WriteLine# ,
(, -
DateTime- 5
.5 6
Now6 9
.9 :
ToString: B
(B C
$strC M
)M N
+O P
$strQ T
+U V
strTramaRequestW f
+g h
$stri l
)l m
;m n
} 
} 
} 
} 
catch 
( 
	Exception 
ex 
)  
{ 
throw   
new   !
ArgumentNullException   /
(  / 0
ex  0 2
.  2 3
ToString  3 ;
(  ; <
)  < =
)  = >
;  > ?
}!! 
}## 	
public$$ 
static$$ 
void$$ 
RegistrarTramas$$ *
($$* +
String$$+ 1
str_tipo$$2 :
,$$: ;
Object$$< B
obj$$C F
,$$F G
string$$H N
rutaArchivo$$O Z
)$$Z [
{%% 	
try&& 
{'' 
lock(( 
((( 
objetoBloqueoJson(( '
)((' (
{)) 
if** 
(** 
!** 
File** 
.** 
Exists** $
(**$ %
rutaArchivo**% 0
)**0 1
)**1 2
{++ 
	Directory,, !
.,,! "
CreateDirectory,," 1
(,,1 2
rutaArchivo,,2 =
),,= >
;,,> ?
}-- 
string.. 
fileName.. #
=..$ %
Path..& *
...* +
Combine..+ 2
(..2 3
rutaArchivo..3 >
,..> ?
DateTime..@ H
...H I
Now..I L
...L M
ToString..M U
(..U V
$str..V `
)..` a
+..b c
$str..d j
)..j k
;..k l
using11 
(11 
var11 
fs11 !
=11" #
File11$ (
.11( )
Open11) -
(11- .
fileName11. 6
,116 7
FileMode118 @
.11@ A
Append11A G
,11G H

FileAccess11I S
.11S T
Write11T Y
,11Y Z
	FileShare11[ d
.11d e
	ReadWrite11e n
)11n o
)11o p
{22 
using33 
(33 
var33 "
writer33# )
=33* +
new33, /
StreamWriter330 <
(33< =
fs33= ?
)33? @
)33@ A
{44 
writer55 "
.55" #
	WriteLine55# ,
(55, -
DateTime55- 5
.555 6
Now556 9
.559 :
ToString55: B
(55B C
$str55C M
)55M N
+55O P
$str55Q T
+55U V
str_tipo55W _
+55` a
JsonConvert55b m
.55m n
SerializeObject55n }
(55} ~
obj	55~ 
)
55 ‚
+
55ƒ „
$str
55… ˆ
)
55ˆ ‰
;
55‰ Š
}66 
fs77 
.77 
Close77  
(77  !
)77! "
;77" #
}88 
}99 
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 
throw== 
new== !
ArgumentNullException== /
(==/ 0
ex==0 2
.==2 3
ToString==3 ;
(==; <
)==< =
)=== >
;==> ?
}>> 
}@@ 	
}AA 
}BB 