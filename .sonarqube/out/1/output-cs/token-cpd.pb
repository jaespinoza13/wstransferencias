‡

FC:\SistemasMego\wsTransferencias_net_6\wsTransferencias.Log\InfoLog.cs
	namespace 	
wsTransferencias
 
. 
Log 
{ 
public		 

struct		 
InfoLog		 
{

 
public 
DateTime 
	str_fecha !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
str_tipo 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
	str_clase 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 

str_metodo  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
str_operacion #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
int 

int_num_id 
{ 
get  #
;# $
set% (
;( )
}* +
public 
object 

str_objeto  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} è&
KC:\SistemasMego\wsTransferencias_net_6\wsTransferencias.Log\LogServicios.cs
	namespace 	
wsTransferencias
 
. 
Log 
{		 
public

 

class

 
LogServicios

 
{ 
private 
static 
object 
objetoBloqueo +
=, -
new. 1
object2 8
(8 9
)9 :
;: ;
private 
static 
object 
objetoBloqueoJson /
=0 1
new2 5
object6 <
(< =
)= >
;> ?
public 
static 
void 
RegistrarTramas *
(* +
string+ 1
strTramaRequest2 A
,A B
stringC I
rutaArchivoJ U
)U V
{ 	
try 
{ 
lock 
( 
objetoBloqueo #
)# $
{ 
string 
fileName #
=$ %
rutaArchivo& 1
+2 3
DateTime4 <
.< =
Now= @
.@ A
ToStringA I
(I J
$strJ T
)T U
+V W
$strX ^
;^ _
using 
( 
var 
fs !
=" #
File$ (
.( )
Open) -
(- .
fileName. 6
,6 7
FileMode8 @
.@ A
AppendA G
,G H

FileAccessI S
.S T
WriteT Y
,Y Z
	FileShare[ d
.d e
	ReadWritee n
)n o
)o p
{ 
using 
( 
var "
writer# )
=* +
new, /
StreamWriter0 <
(< =
fs= ?
)? @
)@ A
{ 
writer "
." #
	WriteLine# ,
(, -
DateTime- 5
.5 6
Now6 9
.9 :
ToString: B
(B C
$strC M
)M N
+O P
$strQ T
+U V
strTramaRequestW f
+g h
$stri l
)l m
;m n
} 
} 
} 
} 
catch 
( 
	Exception 
ex 
)  
{ 
throw   
new   
	Exception   #
(  # $
ex  $ &
.  & '
ToString  ' /
(  / 0
)  0 1
)  1 2
;  2 3
}!! 
}## 	
public$$ 
static$$ 
void$$ 
RegistrarTramas$$ *
($$* +
String$$+ 1
str_tipo$$2 :
,$$: ;
Object$$< B
obj$$C F
,$$F G
string$$H N
rutaArchivo$$O Z
)$$Z [
{%% 	
try&& 
{'' 
lock(( 
((( 
objetoBloqueoJson(( '
)((' (
{)) 
string** 
fileName** #
=**$ %
rutaArchivo**& 1
+**2 3
DateTime**4 <
.**< =
Now**= @
.**@ A
ToString**A I
(**I J
$str**J T
)**T U
+**V W
$str**X ^
;**^ _
using++ 
(++ 
var++ 
fs++ !
=++" #
File++$ (
.++( )
Open++) -
(++- .
fileName++. 6
,++6 7
FileMode++8 @
.++@ A
Append++A G
,++G H

FileAccess++I S
.++S T
Write++T Y
,++Y Z
	FileShare++[ d
.++d e
	ReadWrite++e n
)++n o
)++o p
{,, 
using-- 
(-- 
var-- "
writer--# )
=--* +
new--, /
StreamWriter--0 <
(--< =
fs--= ?
)--? @
)--@ A
{.. 
writer// "
.//" #
	WriteLine//# ,
(//, -
DateTime//- 5
.//5 6
Now//6 9
.//9 :
ToString//: B
(//B C
$str//C M
)//M N
+//O P
$str//Q T
+//U V
str_tipo//W _
+//` a
JsonConvert//b m
.//m n
SerializeObject//n }
(//} ~
obj	//~ Å
)
//Å Ç
+
//É Ñ
$str
//Ö à
)
//à â
;
//â ä
}00 
}11 
}22 
}33 
catch44 
(44 
	Exception44 
ex44 
)44  
{55 
throw66 
new66 
	Exception66 #
(66# $
ex66$ &
.66& '
ToString66' /
(66/ 0
)660 1
)661 2
;662 3
}77 
}99 	
}:: 
};; 